(function(){"use strict";function Et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $={},_t={get exports(){return $},set exports(e){$=e}},At=function(){function e(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Bt=function(){function e(){Ct(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return At(e,[{key:"emit",value:function(r){if(!this.__listeners[r])return this;for(var a=arguments.length,n=Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];var c=!0,l=!1,s=void 0;try{for(var f=this.__listeners[r][Symbol.iterator](),o;!(c=(o=f.next()).done);c=!0){var d=o.value;d.apply(void 0,n)}}catch(u){l=!0,s=u}finally{try{!c&&f.return&&f.return()}finally{if(l)throw s}}return this}},{key:"once",value:function(r,a){var n=this,i=function c(){n.off(r,c),a.apply(void 0,arguments)};return this.on(r,i)}},{key:"on",value:function(r,a){return this.__listeners[r]||(this.__listeners[r]=[]),this.__listeners[r].push(a),this}},{key:"off",value:function(r,a){return a?this.__listeners[r]=this.__listeners[r].filter(function(n){return n!==a}):this.__listeners[r]=[],this}}]),e}(),Dt=Bt,xt=function(){function e(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),Ut=function e(t,r,a){t===null&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(n===void 0){var i=Object.getPrototypeOf(t);return i===null?void 0:e(i,r,a)}else{if("value"in n)return n.value;var c=n.get;return c===void 0?void 0:c.call(a)}},Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Ae(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Nt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $t=Dt,Mt=0,qt=1,Lt=0,Be=1,De="main",jt=function(t){return(typeof t>"u"?"undefined":Ft(t))==="object"&&t!==null&&typeof t.then=="function"&&typeof t.catch=="function"};function zt(e){var t=kt({},De,e),r=self.postMessage.bind(self),a=new(function(s){Nt(f,s);function f(){return Ce(this,f),Rt(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return xt(f,[{key:"emit",value:function(d){for(var u=arguments.length,m=Array(u>1?u-1:0),h=1;h<u;h++)m[h-1]=arguments[h];return m.length==1&&m[0]instanceof Z?r({eventName:d,args:m},m[0].transferable):r({eventName:d,args:m}),this}},{key:"emitLocally",value:function(d){for(var u,m=arguments.length,h=Array(m>1?m-1:0),y=1;y<m;y++)h[y-1]=arguments[y];(u=Ut(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"emit",this)).call.apply(u,[this,d].concat(h))}},{key:"operation",value:function(d,u){return t[d]=u,this}}]),f}($t)),n=function(f,o,d){var u=function(b){b&&b instanceof Z?c(f,Be,b.payload,b.transferable):c(f,Be,b)},m=function(b){c(f,Lt,{message:b.message,stack:b.stack})};try{var h=i(f,o,d);jt(h)?h.then(u).catch(m):u(h)}catch(y){m(y)}},i=function(f,o,d){var u=t[d||De];if(!u)throw new Error("Not found handler for this request");return u(o,l.bind(null,f))},c=function(f,o,d){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];r([Mt,f,o,d],u)},l=function(f,o,d){if(!o)throw new Error("eventName is required");if(typeof o!="string")throw new Error("eventName should be string");r([qt,f,o,d])};return self.addEventListener("message",function(s){var f=s.data;Array.isArray(f)?n.apply(void 0,Ae(f)):f&&f.eventName&&a.emitLocally.apply(a,[f.eventName].concat(Ae(f.args)))}),a}var Z=function e(t,r){Ce(this,e),this.payload=t,this.transferable=r};_t.exports=zt,$.TransferableResponse=Z;var Q={},Jt={get exports(){return Q},set exports(e){Q=e}},J={},Gt={get exports(){return J},set exports(e){J=e}},xe=function(t,r){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(r,n)}},Ht=xe,x=Object.prototype.toString;function ee(e){return x.call(e)==="[object Array]"}function te(e){return typeof e>"u"}function Vt(e){return e!==null&&!te(e)&&e.constructor!==null&&!te(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Wt(e){return x.call(e)==="[object ArrayBuffer]"}function Kt(e){return typeof FormData<"u"&&e instanceof FormData}function Xt(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function Yt(e){return typeof e=="string"}function Zt(e){return typeof e=="number"}function Ue(e){return e!==null&&typeof e=="object"}function G(e){if(x.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Qt(e){return x.call(e)==="[object Date]"}function er(e){return x.call(e)==="[object File]"}function tr(e){return x.call(e)==="[object Blob]"}function Fe(e){return x.call(e)==="[object Function]"}function rr(e){return Ue(e)&&Fe(e.pipe)}function nr(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function ar(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function sr(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function re(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),ee(e))for(var r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function ne(){var e={};function t(n,i){G(e[i])&&G(n)?e[i]=ne(e[i],n):G(n)?e[i]=ne({},n):ee(n)?e[i]=n.slice():e[i]=n}for(var r=0,a=arguments.length;r<a;r++)re(arguments[r],t);return e}function ir(e,t,r){return re(t,function(n,i){r&&typeof n=="function"?e[i]=Ht(n,r):e[i]=n}),e}function or(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var w={isArray:ee,isArrayBuffer:Wt,isBuffer:Vt,isFormData:Kt,isArrayBufferView:Xt,isString:Yt,isNumber:Zt,isObject:Ue,isPlainObject:G,isUndefined:te,isDate:Qt,isFile:er,isBlob:tr,isFunction:Fe,isStream:rr,isURLSearchParams:nr,isStandardBrowserEnv:sr,forEach:re,merge:ne,extend:ir,trim:ar,stripBOM:or},R=w;function Re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ne=function(t,r,a){if(!r)return t;var n;if(a)n=a(r);else if(R.isURLSearchParams(r))n=r.toString();else{var i=[];R.forEach(r,function(s,f){s===null||typeof s>"u"||(R.isArray(s)?f=f+"[]":s=[s],R.forEach(s,function(d){R.isDate(d)?d=d.toISOString():R.isObject(d)&&(d=JSON.stringify(d)),i.push(Re(f)+"="+Re(d))}))}),n=i.join("&")}if(n){var c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t},fr=w;function H(){this.handlers=[]}H.prototype.use=function(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1},H.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},H.prototype.forEach=function(t){fr.forEach(this.handlers,function(a){a!==null&&t(a)})};var ur=H,lr=w,cr=function(t,r){lr.forEach(t,function(n,i){i!==r&&i.toUpperCase()===r.toUpperCase()&&(t[r]=n,delete t[i])})},ke=function(t,r,a,n,i){return t.config=r,a&&(t.code=a),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},ae,$e;function Me(){if($e)return ae;$e=1;var e=ke;return ae=function(r,a,n,i,c){var l=new Error(r);return e(l,a,n,i,c)},ae}var se,qe;function dr(){if(qe)return se;qe=1;var e=Me();return se=function(r,a,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?r(n):a(e("Request failed with status code "+n.status,n.config,null,n.request,n))},se}var ie,Le;function mr(){if(Le)return ie;Le=1;var e=w;return ie=e.isStandardBrowserEnv()?function(){return{write:function(a,n,i,c,l,s){var f=[];f.push(a+"="+encodeURIComponent(n)),e.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),e.isString(c)&&f.push("path="+c),e.isString(l)&&f.push("domain="+l),s===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(a){var n=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ie}var oe,je;function hr(){return je||(je=1,oe=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),oe}var fe,ze;function pr(){return ze||(ze=1,fe=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),fe}var ue,Je;function yr(){if(Je)return ue;Je=1;var e=hr(),t=pr();return ue=function(a,n){return a&&!e(n)?t(a,n):n},ue}var le,Ge;function gr(){if(Ge)return le;Ge=1;var e=w,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return le=function(a){var n={},i,c,l;return a&&e.forEach(a.split(`
`),function(f){if(l=f.indexOf(":"),i=e.trim(f.substr(0,l)).toLowerCase(),c=e.trim(f.substr(l+1)),i){if(n[i]&&t.indexOf(i)>=0)return;i==="set-cookie"?n[i]=(n[i]?n[i]:[]).concat([c]):n[i]=n[i]?n[i]+", "+c:c}}),n},le}var ce,He;function Ir(){if(He)return ce;He=1;var e=w;return ce=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),n;function i(c){var l=c;return r&&(a.setAttribute("href",l),l=a.href),a.setAttribute("href",l),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return n=i(window.location.href),function(l){var s=e.isString(l)?i(l):l;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),ce}var de,Ve;function V(){if(Ve)return de;Ve=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,de=e,de}var me,We;function Ke(){if(We)return me;We=1;var e=w,t=dr(),r=mr(),a=Ne,n=yr(),i=gr(),c=Ir(),l=Me(),s=W(),f=V();return me=function(d){return new Promise(function(m,h){var y=d.data,b=d.headers,U=d.responseType,D;function Ot(){d.cancelToken&&d.cancelToken.unsubscribe(D),d.signal&&d.signal.removeEventListener("abort",D)}e.isFormData(y)&&delete b["Content-Type"];var p=new XMLHttpRequest;if(d.auth){var Zr=d.auth.username||"",Qr=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";b.Authorization="Basic "+btoa(Zr+":"+Qr)}var St=n(d.baseURL,d.url);p.open(d.method.toUpperCase(),a(St,d.params,d.paramsSerializer),!0),p.timeout=d.timeout;function Tt(){if(p){var _="getAllResponseHeaders"in p?i(p.getAllResponseHeaders()):null,k=!U||U==="text"||U==="json"?p.responseText:p.response,F={data:k,status:p.status,statusText:p.statusText,headers:_,config:d,request:p};t(function(_e){m(_e),Ot()},function(_e){h(_e),Ot()},F),p=null}}if("onloadend"in p?p.onloadend=Tt:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(Tt)},p.onabort=function(){p&&(h(l("Request aborted",d,"ECONNABORTED",p)),p=null)},p.onerror=function(){h(l("Network Error",d,null,p)),p=null},p.ontimeout=function(){var k=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",F=d.transitional||s.transitional;d.timeoutErrorMessage&&(k=d.timeoutErrorMessage),h(l(k,d,F.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},e.isStandardBrowserEnv()){var Pt=(d.withCredentials||c(St))&&d.xsrfCookieName?r.read(d.xsrfCookieName):void 0;Pt&&(b[d.xsrfHeaderName]=Pt)}"setRequestHeader"in p&&e.forEach(b,function(k,F){typeof y>"u"&&F.toLowerCase()==="content-type"?delete b[F]:p.setRequestHeader(F,k)}),e.isUndefined(d.withCredentials)||(p.withCredentials=!!d.withCredentials),U&&U!=="json"&&(p.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&p.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(D=function(_){p&&(h(!_||_&&_.type?new f("canceled"):_),p.abort(),p=null)},d.cancelToken&&d.cancelToken.subscribe(D),d.signal&&(d.signal.aborted?D():d.signal.addEventListener("abort",D))),y||(y=null),p.send(y)})},me}var he,Xe;function W(){if(Xe)return he;Xe=1;var e=w,t=cr,r=ke,a={"Content-Type":"application/x-www-form-urlencoded"};function n(s,f){!e.isUndefined(s)&&e.isUndefined(s["Content-Type"])&&(s["Content-Type"]=f)}function i(){var s;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(s=Ke()),s}function c(s,f,o){if(e.isString(s))try{return(f||JSON.parse)(s),e.trim(s)}catch(d){if(d.name!=="SyntaxError")throw d}return(o||JSON.stringify)(s)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:i(),transformRequest:[function(f,o){return t(o,"Accept"),t(o,"Content-Type"),e.isFormData(f)||e.isArrayBuffer(f)||e.isBuffer(f)||e.isStream(f)||e.isFile(f)||e.isBlob(f)?f:e.isArrayBufferView(f)?f.buffer:e.isURLSearchParams(f)?(n(o,"application/x-www-form-urlencoded;charset=utf-8"),f.toString()):e.isObject(f)||o&&o["Content-Type"]==="application/json"?(n(o,"application/json"),c(f)):f}],transformResponse:[function(f){var o=this.transitional||l.transitional,d=o&&o.silentJSONParsing,u=o&&o.forcedJSONParsing,m=!d&&this.responseType==="json";if(m||u&&e.isString(f)&&f.length)try{return JSON.parse(f)}catch(h){if(m)throw h.name==="SyntaxError"?r(h,this,"E_JSON_PARSE"):h}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(f){l.headers[f]={}}),e.forEach(["post","put","patch"],function(f){l.headers[f]=e.merge(a)}),he=l,he}var br=w,vr=W(),wr=function(t,r,a){var n=this||vr;return br.forEach(a,function(c){t=c.call(n,t,r)}),t},pe,Ye;function Ze(){return Ye||(Ye=1,pe=function(t){return!!(t&&t.__CANCEL__)}),pe}var Qe=w,ye=wr,Or=Ze(),Sr=W(),Tr=V();function ge(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tr("canceled")}var Pr=function(t){ge(t),t.headers=t.headers||{},t.data=ye.call(t,t.data,t.headers,t.transformRequest),t.headers=Qe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Qe.forEach(["delete","get","head","post","put","patch","common"],function(n){delete t.headers[n]});var r=t.adapter||Sr.adapter;return r(t).then(function(n){return ge(t),n.data=ye.call(t,n.data,n.headers,t.transformResponse),n},function(n){return Or(n)||(ge(t),n&&n.response&&(n.response.data=ye.call(t,n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})},O=w,et=function(t,r){r=r||{};var a={};function n(o,d){return O.isPlainObject(o)&&O.isPlainObject(d)?O.merge(o,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function i(o){if(O.isUndefined(r[o])){if(!O.isUndefined(t[o]))return n(void 0,t[o])}else return n(t[o],r[o])}function c(o){if(!O.isUndefined(r[o]))return n(void 0,r[o])}function l(o){if(O.isUndefined(r[o])){if(!O.isUndefined(t[o]))return n(void 0,t[o])}else return n(void 0,r[o])}function s(o){if(o in r)return n(t[o],r[o]);if(o in t)return n(void 0,t[o])}var f={url:c,method:c,data:c,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:s};return O.forEach(Object.keys(t).concat(Object.keys(r)),function(d){var u=f[d]||i,m=u(d);O.isUndefined(m)&&u!==s||(a[d]=m)}),a},Ie,tt;function rt(){return tt||(tt=1,Ie={version:"0.23.0"}),Ie}var Er=rt().version,be={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){be[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});var nt={};be.transitional=function(t,r,a){function n(i,c){return"[Axios v"+Er+"] Transitional option '"+i+"'"+c+(a?". "+a:"")}return function(i,c,l){if(t===!1)throw new Error(n(c," has been removed"+(r?" in "+r:"")));return r&&!nt[c]&&(nt[c]=!0,console.warn(n(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,c,l):!0}};function _r(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var a=Object.keys(e),n=a.length;n-- >0;){var i=a[n],c=t[i];if(c){var l=e[i],s=l===void 0||c(l,i,e);if(s!==!0)throw new TypeError("option "+i+" must be "+s);continue}if(r!==!0)throw Error("Unknown option "+i)}}var Ar={assertOptions:_r,validators:be},at=w,Cr=Ne,st=ur,it=Pr,K=et,ot=Ar,N=ot.validators;function M(e){this.defaults=e,this.interceptors={request:new st,response:new st}}M.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=K(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&ot.assertOptions(r,{silentJSONParsing:N.transitional(N.boolean),forcedJSONParsing:N.transitional(N.boolean),clarifyTimeoutError:N.transitional(N.boolean)},!1);var a=[],n=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(t)===!1||(n=n&&u.synchronous,a.unshift(u.fulfilled,u.rejected))});var i=[];this.interceptors.response.forEach(function(u){i.push(u.fulfilled,u.rejected)});var c;if(!n){var l=[it,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(i),c=Promise.resolve(t);l.length;)c=c.then(l.shift(),l.shift());return c}for(var s=t;a.length;){var f=a.shift(),o=a.shift();try{s=f(s)}catch(d){o(d);break}}try{c=it(s)}catch(d){return Promise.reject(d)}for(;i.length;)c=c.then(i.shift(),i.shift());return c},M.prototype.getUri=function(t){return t=K(this.defaults,t),Cr(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},at.forEach(["delete","get","head","options"],function(t){M.prototype[t]=function(r,a){return this.request(K(a||{},{method:t,url:r,data:(a||{}).data}))}}),at.forEach(["post","put","patch"],function(t){M.prototype[t]=function(r,a,n){return this.request(K(n||{},{method:t,url:r,data:a}))}});var Br=M,ve,ft;function Dr(){if(ft)return ve;ft=1;var e=V();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var a;this.promise=new Promise(function(c){a=c});var n=this;this.promise.then(function(i){if(n._listeners){var c,l=n._listeners.length;for(c=0;c<l;c++)n._listeners[c](i);n._listeners=null}}),this.promise.then=function(i){var c,l=new Promise(function(s){n.subscribe(s),c=s}).then(i);return l.cancel=function(){n.unsubscribe(c)},l},r(function(c){n.reason||(n.reason=new e(c),a(n.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]},t.prototype.unsubscribe=function(a){if(this._listeners){var n=this._listeners.indexOf(a);n!==-1&&this._listeners.splice(n,1)}},t.source=function(){var a,n=new t(function(c){a=c});return{token:n,cancel:a}},ve=t,ve}var we,ut;function xr(){return ut||(ut=1,we=function(t){return function(a){return t.apply(null,a)}}),we}var Oe,lt;function Ur(){return lt||(lt=1,Oe=function(t){return typeof t=="object"&&t.isAxiosError===!0}),Oe}var ct=w,Fr=xe,X=Br,Rr=et,Nr=W();function dt(e){var t=new X(e),r=Fr(X.prototype.request,t);return ct.extend(r,X.prototype,t),ct.extend(r,t),r.create=function(n){return dt(Rr(e,n))},r}var A=dt(Nr);A.Axios=X,A.Cancel=V(),A.CancelToken=Dr(),A.isCancel=Ze(),A.VERSION=rt().version,A.all=function(t){return Promise.all(t)},A.spread=xr(),A.isAxiosError=Ur(),Gt.exports=A,J.default=A,function(e){e.exports=J}(Jt);var kr=Et(Q);function $r(e){const r=e.replace(/-([a-z])/g,a=>a[1].toUpperCase()).replace(/([^0-9a-z])/ig,"");return r===""&&console.error("Resulting string is empty."),r}async function Mr(e,t){let r=null;typeof e!="string"?r=e.href:e.startsWith("http")?r=e:r=`${t}/${e}`,r.endsWith(".js")&&(r=r.substring(0,r.length-3)),r.endsWith(".wasm")&&(r=r.substring(0,r.length-5));const a=`${r}.wasm`,i=(await kr.get(a,{responseType:"arraybuffer"})).data,c=`${r}.umd.js`;importScripts(c);const l=$r(r.replace(/.*\//,"")),s=self[l];return s({wasmBinary:i})}const Y=new Map;async function P(e,t){let r=e,a=e,n=null;return typeof e!="string"&&(r=new URL(e.href),a=r.href),Y.has(a)||Y.set(a,await Mr(r,t)),n=Y.get(a),n}const mt=new Map([["image/jpeg","JPEGImageIO"],["image/png","PNGImageIO"],["image/tiff","TIFFImageIO"],["image/x-ms-bmp","BMPImageIO"],["image/x-bmp","BMPImageIO"],["image/bmp","BMPImageIO"],["application/dicom","GDCMImageIO"]]),ht=new Map([["bmp","BMPImageIO"],["BMP","BMPImageIO"],["dcm","GDCMImageIO"],["DCM","GDCMImageIO"],["gipl","GiplImageIO"],["gipl.gz","GiplImageIO"],["hdf5","HDF5ImageIO"],["jpg","JPEGImageIO"],["JPG","JPEGImageIO"],["jpeg","JPEGImageIO"],["JPEG","JPEGImageIO"],["iwi","WASMImageIO"],["iwi.cbor","WASMImageIO"],["iwi.cbor.zstd","WASMZstdImageIO"],["lsm","LSMImageIO"],["mnc","MINCImageIO"],["MNC","MINCImageIO"],["mnc.gz","MINCImageIO"],["MNC.GZ","MINCImageIO"],["mnc2","MINCImageIO"],["MNC2","MINCImageIO"],["mgh","MGHImageIO"],["mgz","MGHImageIO"],["mgh.gz","MGHImageIO"],["mha","MetaImageIO"],["mhd","MetaImageIO"],["mrc","MRCImageIO"],["nia","NiftiImageIO"],["nii","NiftiImageIO"],["nii.gz","NiftiImageIO"],["hdr","NiftiImageIO"],["nrrd","NrrdImageIO"],["NRRD","NrrdImageIO"],["nhdr","NrrdImageIO"],["NHDR","NrrdImageIO"],["png","PNGImageIO"],["PNG","PNGImageIO"],["pic","BioRadImageIO"],["PIC","BioRadImageIO"],["tif","TIFFImageIO"],["TIF","TIFFImageIO"],["tiff","TIFFImageIO"],["TIFF","TIFFImageIO"],["vtk","VTKImageIO"],["VTK","VTKImageIO"],["isq","ScancoImageIO"],["ISQ","ScancoImageIO"],["fdf","FDFImageIO"],["FDF","FDFImageIO"]]);function pt(e){let t=e.slice((e.lastIndexOf(".")-1>>>0)+2);if(t.toLowerCase()==="gz"){const r=e.slice(0,-3).lastIndexOf(".");t=e.slice((r-1>>>0)+2)}else if(t.toLowerCase()==="cbor"){const r=e.slice(0,-5).lastIndexOf(".");t=e.slice((r-1>>>0)+2)}else if(t.toLowerCase()==="zstd"){const r=e.slice(0,-10).lastIndexOf(".");t=e.slice((r-1>>>0)+2)}else if(t.toLowerCase()==="zip"){const r=e.slice(0,-4).lastIndexOf(".");t=e.slice((r-1>>>0)+2)}return t}const Se=["PNGImageIO","MetaImageIO","TIFFImageIO","NiftiImageIO","JPEGImageIO","NrrdImageIO","VTKImageIO","BMPImageIO","HDF5ImageIO","MINCImageIO","MRCImageIO","LSMImageIO","MGHImageIO","BioRadImageIO","GiplImageIO","GEAdwImageIO","GE4ImageIO","GE5ImageIO","GDCMImageIO","ScancoImageIO","FDFImageIO","WASMImageIO","WASMZstdImageIO"],g={TextFile:"InterfaceTextFile",BinaryFile:"InterfaceBinaryFile",TextStream:"InterfaceTextStream",BinaryStream:"InterfaceBinaryStream",Image:"InterfaceImage",Mesh:"InterfaceMesh",PolyData:"InterfacePolyData"},E={Text:"Text",Binary:"Binary",Image:"Image",Mesh:"Mesh"};var T={Int8:"int8",UInt8:"uint8",Int16:"int16",UInt16:"uint16",Int32:"int32",UInt32:"uint32",Int64:"int64",UInt64:"uint64",SizeValueType:"uint64",IdentifierType:"uint64",IndexValueType:"int64",OffsetValueType:"int64"},q={Float32:"float32",Float64:"float64",SpacePrecisionType:"float64"};function I(e,t){let r=null;switch(e){case T.UInt8:{r=new Uint8Array(t);break}case T.Int8:{r=new Int8Array(t);break}case T.UInt16:{r=new Uint16Array(t);break}case T.Int16:{r=new Int16Array(t);break}case T.UInt32:{r=new Uint32Array(t);break}case T.Int32:{r=new Int32Array(t);break}case T.UInt64:{typeof globalThis.BigUint64Array=="function"?r=new BigUint64Array(t):r=new Uint8Array(t);break}case T.Int64:{typeof globalThis.BigInt64Array=="function"?r=new BigInt64Array(t):r=new Uint8Array(t);break}case q.Float32:{r=new Float32Array(t);break}case q.Float64:{r=new Float64Array(t);break}case"null":{r=null;break}case null:{r=null;break}default:throw new Error("Type is not supported as a TypedArray")}return r}const yt=typeof globalThis.SharedArrayBuffer=="function",qr=new TextEncoder,Lr=new TextDecoder("utf-8");function B(e,t){const r={flags:"r",encoding:"binary"},a=e.fs_open(t,r.flags),i=e.fs_stat(t).size;let c=null;yt?c=new SharedArrayBuffer(i):c=new ArrayBuffer(i);const l=new Uint8Array(c);return e.fs_read(a,l,0,i,0),e.fs_close(a),l}function gt(e,t,r){let a=null;yt?a=new SharedArrayBuffer(r):a=new ArrayBuffer(r);const n=new Uint8Array(a),i=new Uint8Array(e.HEAPU8.buffer,t,r);return n.set(i),n}function v(e,t,r,a){let n=0;return t!==null&&(n=e.ccall("itk_wasm_input_array_alloc","number",["number","number","number","number"],[0,r,a,t.buffer.byteLength]),e.HEAPU8.set(new Uint8Array(t.buffer),n)),n}function L(e,t,r){const a=JSON.stringify(t),n=e.ccall("itk_wasm_input_json_alloc","number",["number","number","number"],[0,r,a.length]);e.writeAsciiToMemory(a,n,!1)}function S(e,t,r,a){const n=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,t,r]),i=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,t,r]),c=gt(e,n,i);return I(a,c.buffer)}function Te(e,t){const r=e.ccall("itk_wasm_output_json_address","number",["number","number"],[0,t]),a=e.AsciiToString(r);return JSON.parse(a)}function Pe(e,t,r,a){a!=null&&a.length>0&&a.forEach(function(s,f){switch(s.type){case g.TextStream:{const o=qr.encode(s.data.data),d=v(e,o,f,0),u={size:o.buffer.byteLength,data:`data:application/vnd.itk.address,0:${d}`};L(e,u,f);break}case g.BinaryStream:{const o=s.data.data,d=v(e,o,f,0),u={size:o.buffer.byteLength,data:`data:application/vnd.itk.address,0:${d}`};L(e,u,f);break}case g.TextFile:{e.fs_writeFile(s.data.path,s.data.data);break}case g.BinaryFile:{e.fs_writeFile(s.data.path,s.data.data);break}case g.Image:{const o=s.data,d=v(e,o.data,f,0),u=v(e,o.direction,f,1),m={imageType:o.imageType,name:o.name,origin:o.origin,spacing:o.spacing,direction:`data:application/vnd.itk.address,0:${u}`,size:o.size,data:`data:application/vnd.itk.address,0:${d}`};L(e,m,f);break}case g.Mesh:{const o=s.data,d=v(e,o.points,f,0),u=v(e,o.cells,f,1),m=v(e,o.pointData,f,2),h=v(e,o.cellData,f,3),y={meshType:o.meshType,name:o.name,numberOfPoints:o.numberOfPoints,points:`data:application/vnd.itk.address,0:${d}`,numberOfCells:o.numberOfCells,cells:`data:application/vnd.itk.address,0:${u}`,cellBufferSize:o.cellBufferSize,numberOfPointPixels:o.numberOfPointPixels,pointData:`data:application/vnd.itk.address,0:${m}`,numberOfCellPixels:o.numberOfCellPixels,cellData:`data:application/vnd.itk.address,0:${h}`};L(e,y,f);break}case g.PolyData:{const o=s.data,d=v(e,o.points,f,0),u=v(e,o.vertices,f,1),m=v(e,o.lines,f,2),h=v(e,o.polygons,f,3),y=v(e,o.triangleStrips,f,4),b=v(e,o.pointData,f,5),U=v(e,o.pointData,f,6),D={polyDataType:o.polyDataType,name:o.name,numberOfPoints:o.numberOfPoints,points:`data:application/vnd.itk.address,0:${d}`,verticesBufferSize:o.verticesBufferSize,vertices:`data:application/vnd.itk.address,0:${u}`,linesBufferSize:o.linesBufferSize,lines:`data:application/vnd.itk.address,0:${m}`,polygonsBufferSize:o.polygonsBufferSize,polygons:`data:application/vnd.itk.address,0:${h}`,triangleStripsBufferSize:o.triangleStripsBufferSize,triangleStrips:`data:application/vnd.itk.address,0:${y}`,numberOfPointPixels:o.numberOfPointPixels,pointData:`data:application/vnd.itk.address,0:${b}`,numberOfCellPixels:o.numberOfCellPixels,cellData:`data:application/vnd.itk.address,0:${U}`};L(e,D,f);break}case E.Text:{e.fs_writeFile(s.path,s.data);break}case E.Binary:{e.fs_writeFile(s.path,s.data);break}case E.Image:{const o=s.data,d={imageType:o.imageType,name:o.name,origin:o.origin,spacing:o.spacing,direction:"data:application/vnd.itk.path,data/direction.raw",size:o.size,data:"data:application/vnd.itk.path,data/data.raw"};if(e.fs_mkdirs(`${s.path}/data`),e.fs_writeFile(`${s.path}/index.json`,JSON.stringify(d)),o.data===null)throw Error("image.data is null");e.fs_writeFile(`${s.path}/data/data.raw`,new Uint8Array(o.data.buffer)),e.fs_writeFile(`${s.path}/data/direction.raw`,new Uint8Array(o.direction.buffer));break}case E.Mesh:{const o=s.data,d={meshType:o.meshType,name:o.name,numberOfPoints:o.numberOfPoints,points:"data:application/vnd.itk.path,data/points.raw",numberOfPointPixels:o.numberOfPointPixels,pointData:"data:application/vnd.itk.path,data/pointData.raw",numberOfCells:o.numberOfCells,cells:"data:application/vnd.itk.path,data/cells.raw",numberOfCellPixels:o.numberOfCellPixels,cellData:"data:application/vnd.itk.path,data/cellData.raw",cellBufferSize:o.cellBufferSize};if(e.fs_mkdirs(`${s.path}/data`),e.fs_writeFile(`${s.path}/index.json`,JSON.stringify(d)),d.numberOfPoints>0){if(o.points===null)throw Error("mesh.points is null");e.fs_writeFile(`${s.path}/data/points.raw`,new Uint8Array(o.points.buffer))}if(d.numberOfPointPixels>0){if(o.pointData===null)throw Error("mesh.pointData is null");e.fs_writeFile(`${s.path}/data/pointData.raw`,new Uint8Array(o.pointData.buffer))}if(d.numberOfCells>0){if(o.cells===null)throw Error("mesh.cells is null");e.fs_writeFile(`${s.path}/data/cells.raw`,new Uint8Array(o.cells.buffer))}if(d.numberOfCellPixels>0){if(o.cellData===null)throw Error("mesh.cellData is null");e.fs_writeFile(`${s.path}/data/cellData.raw`,new Uint8Array(o.cellData.buffer))}break}default:throw Error("Unsupported input InterfaceType")}}),e.resetModuleStdout(),e.resetModuleStderr();let n=0;try{n=e.callMain(t.slice())}catch(s){throw typeof s=="number"&&(console.log("Exception while running pipeline:"),console.log("stdout:",e.getModuleStdout()),console.error("stderr:",e.getModuleStderr()),typeof e.getExceptionMessage<"u"?console.error("exception:",e.getExceptionMessage(s)):console.error("Build module in Debug mode for exception message information.")),s}const i=e.getModuleStdout(),c=e.getModuleStderr(),l=[];return r!=null&&r.length>0&&n===0&&r.forEach(function(s,f){let o=null;switch(s.type){case g.TextStream:{const u=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,f,0]),m=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,f,0]),h=new Uint8Array(e.HEAPU8.buffer,u,m);o={data:Lr.decode(h)};break}case g.BinaryStream:{const u=e.ccall("itk_wasm_output_array_address","number",["number","number","number"],[0,f,0]),m=e.ccall("itk_wasm_output_array_size","number",["number","number","number"],[0,f,0]);o={data:gt(e,u,m)};break}case g.TextFile:{o={path:s.data.path,data:e.fs_readFile(s.data.path,{encoding:"utf8"})};break}case g.BinaryFile:{o={path:s.data.path,data:B(e,s.data.path)};break}case g.Image:{const u=Te(e,f);u.data=S(e,f,0,u.imageType.componentType),u.direction=S(e,f,1,q.Float64),o=u;break}case g.Mesh:{const u=Te(e,f);u.numberOfPoints>0?u.points=S(e,f,0,u.meshType.pointComponentType):u.points=I(u.meshType.pointComponentType,new ArrayBuffer(0)),u.numberOfCells>0?u.cells=S(e,f,1,u.meshType.cellComponentType):u.cells=I(u.meshType.cellComponentType,new ArrayBuffer(0)),u.numberOfPointPixels>0?u.pointData=S(e,f,2,u.meshType.pointPixelComponentType):u.pointData=I(u.meshType.pointPixelComponentType,new ArrayBuffer(0)),u.numberOfCellPixels>0?u.cellData=S(e,f,3,u.meshType.cellPixelComponentType):u.cellData=I(u.meshType.cellPixelComponentType,new ArrayBuffer(0)),o=u;break}case g.PolyData:{const u=Te(e,f);u.numberOfPoints>0?u.points=S(e,f,0,q.Float32):u.points=new Float32Array,u.verticesBufferSize>0?u.vertices=S(e,f,1,T.UInt32):u.vertices=new Uint32Array,u.linesBufferSize>0?u.lines=S(e,f,2,T.UInt32):u.lines=new Uint32Array,u.polygonsBufferSize>0?u.polygons=S(e,f,3,T.UInt32):u.polygons=new Uint32Array,u.triangleStripsBufferSize>0?u.triangleStrips=S(e,f,4,T.UInt32):u.triangleStrips=new Uint32Array,u.numberOfPointPixels>0?u.pointData=S(e,f,5,u.polyDataType.pointPixelComponentType):u.pointData=I(u.polyDataType.pointPixelComponentType,new ArrayBuffer(0)),u.numberOfCellPixels>0?u.cellData=S(e,f,6,u.polyDataType.cellPixelComponentType):u.cellData=I(u.polyDataType.cellPixelComponentType,new ArrayBuffer(0)),o=u;break}case E.Text:{if(typeof s.path>"u")throw new Error("output.path not defined");o=e.fs_readFile(s.path,{encoding:"utf8"});break}case E.Binary:{if(typeof s.path>"u")throw new Error("output.path not defined");o=B(e,s.path);break}case E.Image:{if(typeof s.path>"u")throw new Error("output.path not defined");const u=e.fs_readFile(`${s.path}/index.json`,{encoding:"utf8"}),m=JSON.parse(u),h=B(e,`${s.path}/data/data.raw`);m.data=I(m.imageType.componentType,h.buffer);const y=B(e,`${s.path}/data/direction.raw`);m.direction=I(q.Float64,y.buffer),o=m;break}case E.Mesh:{if(typeof s.path>"u")throw new Error("output.path not defined");const u=e.fs_readFile(`${s.path}/index.json`,{encoding:"utf8"}),m=JSON.parse(u);if(m.numberOfPoints>0){const h=B(e,`${s.path}/data/points.raw`);m.points=I(m.meshType.pointComponentType,h.buffer)}else m.points=I(m.meshType.pointComponentType,new ArrayBuffer(0));if(m.numberOfPointPixels>0){const h=B(e,`${s.path}/data/pointData.raw`);m.pointData=I(m.meshType.pointPixelComponentType,h.buffer)}else m.pointData=I(m.meshType.pointPixelComponentType,new ArrayBuffer(0));if(m.numberOfCells>0){const h=B(e,`${s.path}/data/cells.raw`);m.cells=I(m.meshType.cellComponentType,h.buffer)}else m.cells=I(m.meshType.cellComponentType,new ArrayBuffer(0));if(m.numberOfCellPixels>0){const h=B(e,`${s.path}/data/cellData.raw`);m.cellData=I(m.meshType.cellPixelComponentType,h.buffer)}else m.cellData=I(m.meshType.cellPixelComponentType,new ArrayBuffer(0));o=m;break}default:throw Error("Unsupported output InterfaceType")}const d={type:s.type,data:o};l.push(d)}),{returnValue:n,stdout:i,stderr:c,outputs:l}}var j=function(e){return this instanceof j?(this.v=e,this):new j(e)},jr=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),n,i=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(u){a[u]&&(n[u]=function(m){return new Promise(function(h,y){i.push([u,m,h,y])>1||l(u,m)})})}function l(u,m){try{s(a[u](m))}catch(h){d(i[0][3],h)}}function s(u){u.value instanceof j?Promise.resolve(u.value.v).then(f,o):d(i[0][2],u)}function f(u){l("next",u)}function o(u){l("throw",u)}function d(u,m){u(m),i.shift(),i.length&&l(i[0][0],i[0][1])}},zr=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(i){r[i]=e[i]&&function(c){return new Promise(function(l,s){c=e[i](c),n(l,s,c.done,c.value)})}}function n(i,c,l,s){Promise.resolve(s).then(function(f){i({value:f,done:l})},c)}};function Jr(e){return jr(this,arguments,function*(){for(let r=0;r<Se.length;r++){const a=Se[r]+"-read-image",n=yield j(P(a,e.config.imageIOUrl));yield yield j(n)}})}async function It(e,t){var r,a;if(e.mimeType&&mt.has(e.mimeType)){const l=mt.get(e.mimeType)+t;return await P(l,e.config.imageIOUrl)}const n=pt(e.fileName);if(ht.has(n)){const l=ht.get(n)+t;return await P(l,e.config.imageIOUrl)}for(let l=0;l<Se.length;++l){let s=0;try{for(var i=(r=void 0,zr(Jr(e))),c;c=await i.next(),!c.done;){const f=c.value;try{const{returnValue:o,outputs:d}=await Pe(f,e.args,e.outputs,e.inputs);if(o===0)return f}catch{}s++}}catch(f){r={error:f}}finally{try{c&&!c.done&&(a=i.return)&&await a.call(i)}finally{if(r)throw r.error}}}throw Error(`Could not find IO for: ${e.fileName}`)}const bt=new Map([]),vt=new Map([["vtk","VTKPolyDataMeshIO"],["VTK","VTKPolyDataMeshIO"],["byu","BYUMeshIO"],["BYU","BYUMeshIO"],["fsa","FreeSurferAsciiMeshIO"],["FSA","FreeSurferAsciiMeshIO"],["fsb","FreeSurferBinaryMeshIO"],["FSB","FreeSurferBinaryMeshIO"],["obj","OBJMeshIO"],["OBJ","OBJMeshIO"],["off","OFFMeshIO"],["OFF","OFFMeshIO"],["stl","STLMeshIO"],["STL","STLMeshIO"],["swc","SWCMeshIO"],["SWC","SWCMeshIO"],["iwm","WASMMeshIO"],["iwm.cbor","WASMMeshIO"],["iwm.cbor.zstd","WASMZstdMeshIO"]]),Ee=["BYUMeshIO","FreeSurferAsciiMeshIO","FreeSurferBinaryMeshIO","OBJMeshIO","OFFMeshIO","STLMeshIO","SWCMeshIO","VTKPolyDataMeshIO","WASMMeshIO","WASMZstdMeshIO"];var z=function(e){return this instanceof z?(this.v=e,this):new z(e)},Gr=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),n,i=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(u){a[u]&&(n[u]=function(m){return new Promise(function(h,y){i.push([u,m,h,y])>1||l(u,m)})})}function l(u,m){try{s(a[u](m))}catch(h){d(i[0][3],h)}}function s(u){u.value instanceof z?Promise.resolve(u.value.v).then(f,o):d(i[0][2],u)}function f(u){l("next",u)}function o(u){l("throw",u)}function d(u,m){u(m),i.shift(),i.length&&l(i[0][0],i[0][1])}},Hr=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(i){r[i]=e[i]&&function(c){return new Promise(function(l,s){c=e[i](c),n(l,s,c.done,c.value)})}}function n(i,c,l,s){Promise.resolve(s).then(function(f){i({value:f,done:l})},c)}};function Vr(e){return Gr(this,arguments,function*(){for(let r=0;r<Ee.length;r++){const a=Ee[r]+"-read-mesh",n=yield z(P(a,e.config.meshIOUrl));yield yield z(n)}})}async function wt(e,t){var r,a;if(e.mimeType&&bt.has(e.mimeType)){const l=bt.get(e.mimeType)+t;return await P(l,e.config.meshIOUrl)}const n=pt(e.fileName);if(vt.has(n)){const l=vt.get(n)+t;return await P(l,e.config.meshIOUrl)}for(let l=0;l<Ee.length;++l){let s=0;try{for(var i=(r=void 0,Hr(Vr(e))),c;c=await i.next(),!c.done;){const f=c.value;try{const{returnValue:o,outputs:d}=await Pe(f,e.args,e.outputs,e.inputs);if(o===0)return f}catch{}s++}}catch(f){r={error:f}}finally{try{c&&!c.done&&(a=i.return)&&await a.call(i)}finally{if(r)throw r.error}}}throw Error(`Could not find IO for: ${e.fileName}`)}const Wr=typeof globalThis.SharedArrayBuffer=="function";function C(e){let t=null;return e.buffer!==void 0?t=e.buffer:e.byteLength!==void 0&&(t=e),t&&Wr&&t instanceof SharedArrayBuffer?null:t}function Kr(e){const t=[];return e.points!=null&&t.push(e.points.buffer),e.pointData!=null&&t.push(e.pointData.buffer),e.cells!=null&&t.push(e.cells.buffer),e.cellData!=null&&t.push(e.cellData.buffer),t}function Xr(e){const t=[];return e.points!=null&&t.push(e.points.buffer),e.vertices!=null&&t.push(e.vertices.buffer),e.lines!=null&&t.push(e.lines.buffer),e.polygons!=null&&t.push(e.polygons.buffer),e.triangleStrips!=null&&t.push(e.triangleStrips.buffer),e.pointData!=null&&t.push(e.pointData.buffer),e.cellData!=null&&t.push(e.cellData.buffer),t}async function Yr(e,t,r,a){const n=Pe(e,t,r,a),i=[];return n.outputs&&n.outputs.forEach(function(c){if(c.type===g.BinaryStream||c.type===g.BinaryFile){const l=c.data,s=C(l);s&&i.push(s)}else if(c.type===g.Image){const l=c.data;let s=C(l.data);s&&i.push(s),s=C(l.direction),s&&i.push(s)}else if(c.type===g.Mesh){const l=c.data,s=Kr(l);i.push(...s)}else if(c.type===g.PolyData){const l=c.data,s=Xr(l);i.push(...s)}else if(c.type===E.Binary){const l=c.data,s=C(l);s&&i.push(s)}else if(c.type===E.Image){const l=c.data;let s=C(l.data);s&&i.push(s),s=C(l.direction),s&&i.push(s)}else if(c.type===E.Mesh){const l=c.data;if(l.points){const s=C(l.points);s&&i.push(s)}if(l.pointData){const s=C(l.pointData);s&&i.push(s)}if(l.cells){const s=C(l.cells);s&&i.push(s)}if(l.cellData){const s=C(l.cellData);s&&i.push(s)}}}),new $.TransferableResponse(n,i)}$(async function(e){let t=null;if(e.operation==="runPipeline")t=await P(e.pipelinePath,e.config.pipelinesUrl);else if(e.operation==="readImage")t=await It(e,"-read-image");else if(e.operation==="writeImage")t=await It(e,"-write-image");else if(e.operation==="readMesh")t=await wt(e,"-read-mesh");else if(e.operation==="writeMesh")t=await wt(e,"-write-mesh");else if(e.operation==="meshToPolyData")t=await P("mesh-to-polydata",e.config.meshIOUrl);else if(e.operation==="polyDataToMesh")t=await P("polydata-to-mesh",e.config.meshIOUrl);else if(e.operation==="readDICOMImageSeries")t=await P("read-image-dicom-file-series",e.config.imageIOUrl);else if(e.operation==="readDICOMTags")t=await P("read-dicom-tags",e.config.imageIOUrl);else throw new Error("Unknown worker operation");return Yr(t,e.args,e.outputs,e.inputs)})})();
